# 文件与目录的默认权限与隐藏属性

前面讲解了文件的权限,分别是:**w,r,x**.

下面将将默认权限和隐藏权限

## 默认权限

默认权限是指文件或目录在被创造创造出来的时候,用户和用户组默认具有的权限.

例如用户A创建文件a,那么伴随的A查询a的文件权限就是:**rwx------**

即默认状态下是只有用户A对文件a具有可读可写可执行权,对于任何用户组和个人都没有权限(除了root)

下面讲讲如何修改默认权限

### 默认权限的查看与修改:umask

umask的作用就是制定当前用户在建立文件或者目录时候的权限默认值

和前面的会以具体的rwx字母显示不同,它也可以用数字的形式表示权限

说明如下:

- r,w,x分别对饮4,2,1
- 如果用户的权限数字为5,则表示权限为r-x

下面介绍如何使用umask命令

**查看默认权限**

```linux
$ umask
```

输出释义:

```linux
$ umask
>>>
0022
```

- 第一位为特殊权限,暂时先不管他
- 0表示当前查看用户权限,2位用户组所有的权限,3位为其他人所有的权限

**修改默认权限**

```linux
$ umask [option] num
```

- option为选项,只有一个-S,表示以符号形式输出,即以rwx形式输出
- num为权限对应数字



### 隐藏属性

其实文件除了可读可写可执行外,还有隐藏属性

文件的隐藏属性包括是显示最后修改时间还是一直显示创建时间,是同步从缓存写到磁盘上还是保存后再写到磁盘上,还是只能增加不能删除,还是彻底删除(删除之后彻底没了),还是删除之后还有救,这些都是文件的隐藏属性

#### 隐藏属性的修改

```linux
# chatter [option1] [option2] 文件或者目录名
```

参数与选项说明如下:

| option1 | 说明                             |
| ------- | -------------------------------- |
| +       | 增加一个特殊参数,其他参数不动    |
| -       | 删除某一个参数,其他参数不动      |
| =       | 直接设置参数,后面必须要接option2 |

| option2 | 说明                                                         |
| ------- | ------------------------------------------------------------ |
| A       | 读取或者修改文件时候,存取时间不会被修改                      |
| S       | 同步将文件写入磁盘                                           |
| a       | 文件只能增加数据不能删除数据                                 |
| c       | 自动将文件在存储时候进行压缩,读取的时候将会解压缩            |
| d       | 在dump程序被执行时候,d属性可以让文件不会被dump备份           |
| i       | 冻结文件,不能删除,改名,设置连接,写入,删除数据(root也无法做这些事) |
| s       | 前面说的彻底删除                                             |
|         | 可恢复删除                                                   |

示例:

```linux
# chatter +ai
```



#### 隐藏属性的查看

```linux
# lsatter [option]
```

- a:隐藏文件属性也显示
- d:如果是目录,进线数目录本身属性而非目录内文件属性
- R:连子目录属性一起列出